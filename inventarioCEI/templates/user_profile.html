{% extends "base.html" %}

{% block infoUsuario %}
    <div id="right">
        {{ request.user.first_name }} {{ request.user.last_name }}, Rut: {{ request.user.profile.rut }}
        <br>{{ request.user.profile.mail }}
        {% if request.user.profile.hab %}
            <br>Habilitado
        {% else %}
            <br>No Habilitado
        {% endif %}
        <br><a href="{% url 'logout' %}"> Cerrar Sesión </a>
        /<a href="{% url 'change_password' %}"> Cambiar Contraseña </a>
    </div>

{% endblock %}

{% block content %}

    <ul class="nav nav-pills nav-fill mb-3" id="pills-tab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="pill" role="tab" aria-selected="true">Reservar Espacio</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" data-toggle="pill" role="tab" aria-selected="true">Reservar Artículo</a>
        </li>
    </ul>

    <br>

    <div class="container">
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="pills-reservas-tab" data-toggle="pill" href="#pills-reservas"
               role="tab" aria-controls="pills-reservas" aria-selected="true">Reservas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="pills-prestamos-tab" data-toggle="pill" href="#pills-prestamos"
               role="tab" aria-controls="pills-prestamos" aria-selected="false">Prestamos</a>
          </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
          <div class="tab-pane fade show active" id="pills-reservas" role="tabpanel" aria-labelledby="pills-reservas-tab">
            {% include 'res_table.html' %}
          </div>
          <div class="tab-pane fade" id="pills-prestamos" role="tabpanel" aria-labelledby="pills-prestamos-tab">
            {% include 'pres_table.html' %}
          </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    <script>
        function showData(text, fotoURL, name){
            let box = document.getElementById("photo");
            box.innerHTML = "";
            let box2 = document.getElementById("description");
            box2.innerHTML = "";

            let line = document.createElement("br");
            let photo = document.createElement("img");
            photo.src = fotoURL;
            photo.height = "250";
            photo.width = "350";

            box.appendChild(photo);
            box.appendChild(line);

            let n = document.createElement("p");
            let d = document.createElement("p");

            let description = document.createTextNode(text);
            let nametxt = document.createTextNode(name);

            n.appendChild(nametxt);
            d.appendChild(description);

            box2.appendChild(n);
            box2.appendChild(d);
        }
    </script>
{% endblock %}